From ef2ce86da4ea8d7d82a35abab15d4d2913ee985d Mon Sep 17 00:00:00 2001
From: theuni <theuni-nospam-@xbmc.org>
Date: Mon, 16 Jan 2012 23:58:27 -0500
Subject: [PATCH] [aml] Allocate enough memory for 720p triple-buffer

---
 arch/arm/mach-meson/stv-mbx-m3.h |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/arch/arm/mach-meson/stv-mbx-m3.h b/arch/arm/mach-meson/stv-mbx-m3.h
index 6d217b2..ee4467c 100644
--- a/arch/arm/mach-meson/stv-mbx-m3.h
+++ b/arch/arm/mach-meson/stv-mbx-m3.h
@@ -29,8 +29,9 @@
 #define B16BpP	(2)
 #define B32BpP	(4)
 #define DOUBLE_BUFFER	(2)
+#define TRIPLE_BUFFER	(3)
 
-#define OSD1_MAX_MEM		U_ALIGN(OSD_720_PIX*B32BpP*DOUBLE_BUFFER)
+#define OSD1_MAX_MEM		U_ALIGN(OSD_720_PIX*B32BpP*TRIPLE_BUFFER)
 #define OSD2_MAX_MEM		U_ALIGN(640*480*B16BpP)
 
 
-- 
1.7.4.1

